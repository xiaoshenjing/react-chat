(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],{146:function(e,t,n){e.exports=n(236)},164:function(e,t,n){var a={"./content.js":165,"./header.js":207,"./login.js":208};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=164},165:function(e,t,n){"use strict";n.r(t);var a=n(22),r=n(55),i=n(27),o=Object(a.fromJS)({list:[]});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.ADD_LIST:return r.a.success("\u53d1\u5e03\u6210\u529f"),e.set("list",e.get("list").push(Object(a.fromJS)(t.item)));case i.a.DELETE_LIST:return r.a.success("\u5220\u9664\u6210\u529f"),e.set("list",e.get("list").delete(t.id));case i.a.EDIT_LIST:return r.a.success("\u4fee\u6539\u6210\u529f"),e.setIn(["list",t.id,"content"],t.content);case i.a.GET_LIST:return e.set("list",Object(a.fromJS)(t.data));default:return e}}},207:function(e,t,n){"use strict";n.r(t);var a=n(22),r=n(53),i=Object(a.fromJS)({flag:!1});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a.OPEN_LOGIN:return e.set("flag",!0);case r.a.CLOSE_LOGIN:return e.set("flag",!1);default:return e}}},208:function(e,t,n){"use strict";n.r(t);var a=n(22),r=n(55),i=n(28),o=Object(a.fromJS)({login:!1});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.GET_LOGIN:return e.set("login",t.data);case i.a.LOGIN:return r.a.success("\u767b\u9646\u6210\u529f"),e.set("login",!0);case i.a.REGISTER:return r.a.success("\u6ce8\u518c\u6210\u529f"),e.set("login",!0);case i.a.LOGOUT:return r.a.success("\u6ce8\u9500\u6210\u529f"),e.set("login",!1);default:return e}}},235:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(3),o=n.n(i),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function u(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(151);var s=n(38),l=n(7),f=n(8);function d(){var e=Object(l.a)(["\nborder: 1px solid gray;\npadding: 20px;\nmargin: 50px 100px;\nborder-radius: 20px;\n"]);return d=function(){return e},e}var p=f.a.div(d()),g=n(59),h=n(40),v=function(){return r.a.createElement(g.a,null,r.a.createElement(X,null),r.a.createElement(h.b,{exact:!0,path:"/",component:Oe}),r.a.createElement(h.b,{exact:!0,path:"/login",component:Te}))},m=n(51),b=n(126),O=n(127),y=n(128),E=n(164),k={};E.keys().map((function(e){var t=E(e);return k[e.match(/\/(\S*)\./)[1]]=t.default,!1}));var j=Object(b.combineReducers)(k),x=Object(O.composeWithDevTools)({features:{pause:!0,lock:!1,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}}),w=Object(m.createStore)(j,x(Object(m.applyMiddleware)(y.a))),L=n(18),S=n(19),I=n(25),T=n(23),C=n(24),_=n(39);function N(){var e=Object(l.a)(["\nfont-size: 24px;\ncolor: #444;\n"]);return N=function(){return e},e}function G(){var e=Object(l.a)(["\ndisplay: flex;\nalign-items: flex-end;\njustify-content: space-between;\n"]);return G=function(){return e},e}var D=f.a.div(G()),J=f.a.div(N()),R=n(53),P=function(){return{type:R.a.OPEN_LOGIN}},z=function(){return{type:R.a.CLOSE_LOGIN}},A=n(28),U=n(33),W=n.n(U),F=n(62),M=n(133),B=n.n(M),$=new(function(){function e(t){Object(L.a)(this,e),this.axios=B.a.create({baseURL:t,timeout:5e3})}return Object(S.a)(e,[{key:"check",value:function(){this.axios.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){switch(console.log(e),e.response.status){case 400:e.message="\u9519\u8bef\u8bf7\u6c42";break;case 401:e.message="\u672a\u6388\u6743\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55";break;case 403:e.message="\u7981\u6b62\u8bbf\u95ee";break;case 404:e.message="\u8bf7\u6c42\u9519\u8bef,\u672a\u627e\u5230\u8be5\u8d44\u6e90";break;case 405:e.message="\u8bf7\u6c42\u65b9\u6cd5\u672a\u5141\u8bb8";break;case 408:e.message="\u8bf7\u6c42\u8d85\u65f6";break;case 413:e.message="\u4e0a\u4f20\u6587\u4ef6\u8fc7\u5927";break;case 415:e.message="\u8bf7\u6c42\u683c\u5f0f\u672a\u5141\u8bb8";break;case 500:e.message="\u670d\u52a1\u5668\u7aef\u51fa\u9519";break;case 501:e.message="\u7f51\u7edc\u672a\u5b9e\u73b0";break;case 502:e.message="\u7f51\u7edc\u9519\u8bef";break;case 503:e.message="\u670d\u52a1\u4e0d\u53ef\u7528";break;case 504:e.message="\u7f51\u7edc\u8d85\u65f6";break;case 505:e.message="http\u7248\u672c\u4e0d\u652f\u6301\u8be5\u8bf7\u6c42";break;default:e.message="\u8fde\u63a5\u9519\u8bef,".concat(e.response.msg)}return Promise.reject(e)}))}},{key:"full",value:function(e,t){if(e.data&&1===e.data.code)return t?Promise.resolve(e.data):Promise.resolve(e.data.data)}},{key:"get",value:function(){var e=Object(F.a)(W.a.mark((function e(t){var n,a,r,i,o,c,u=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=n.data,r=void 0===a?null:a,i=n.fullFlag,o=void 0!==i&&i,this.check(),e.next=4,this.axios.get(t,r);case 4:return c=e.sent,e.abrupt("return",this.full(c,o));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(F.a)(W.a.mark((function e(t){var n,a,r,i,o,c,u=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=n.data,r=void 0===a?null:a,i=n.fullFlag,o=void 0!==i&&i,this.check(),e.next=4,this.axios.post(t,JSON.stringify(r));case 4:return c=e.sent,e.abrupt("return",this.full(c,o));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(F.a)(W.a.mark((function e(t){var n,a,r,i,o,c,u=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=n.data,r=void 0===a?null:a,i=n.fullFlag,o=void 0!==i&&i,this.check(),e.next=4,this.axios.put(t,r);case 4:return c=e.sent,e.abrupt("return",this.full(c,o));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(F.a)(W.a.mark((function e(t){var n,a,r,i,o,c,u=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=n.data,r=void 0===a?null:a,i=n.fullFlag,o=void 0!==i&&i,this.check(),e.next=4,this.axios.delete(t,r);case 4:return c=e.sent,e.abrupt("return",this.full(c,o));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())("/");var q=function(e,t){(function(e){var t=e.account,n=e.password;return $.post("login",{data:{account:t,password:n}})})(t).then((function(){e({type:A.a.LOGIN})}))},H=function(e,t){(function(e){var t=e.account,n=e.password;return $.post("register",{data:{account:t,password:n}})})(t).then((function(){e({type:A.a.REGISTER})}))},K=function(e){$.post("logout").then((function(){e({type:A.a.LOGOUT})}))},Q=function(e){$.get("login").then((function(t){e({type:A.a.GET_LOGIN,data:t.login})}))},V=function(e){function t(){return Object(L.a)(this,t),Object(I.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.flag,n=e.openLogin,i=e.closeLogin,o=e.login,c=e.logout;return r.a.createElement(D,null,r.a.createElement(J,null,"\u6b22\u8fce\u53d1\u5e03\u60a8\u7684\u7559\u8a00\uff1a"),o?r.a.createElement(a.Fragment,null,r.a.createElement(h.a,{to:"/"}),r.a.createElement(_.a,{type:"danger",onClick:function(){return c()}},"\u6ce8\u9500")):t?r.a.createElement(g.b,{to:"/"},r.a.createElement(_.a,{type:"primary",onClick:function(){return i()}},"\u8fd4\u56de")):r.a.createElement(g.b,{to:"/login"},r.a.createElement(_.a,{type:"primary",onClick:function(){return n()}},"\u767b\u5f55")))}},{key:"UNSAFE_componentWillMount",value:function(){this.props.getLogin()}}]),t}(a.PureComponent),X=Object(s.b)((function(e){return{flag:e.getIn(["header","flag"]),login:e.getIn(["login","login"])}}),(function(e){return{openLogin:function(){e(P())},closeLogin:function(){e(z())},logout:function(){K(e)},getLogin:function(){Q(e)}}}))(V);function Y(){var e=Object(l.a)(["\nwidth: 100%;\nheight: 300px;\nborder: 1px solid #444;\nborder-radius: 5px;\nmargin: 20px 0;\npadding: 10px;\nbox-sizing: border-box;\nfont-size: 18px;\noutline: none;\nresize: none;\n"]);return Y=function(){return e},e}var Z=f.a.textarea(Y()),ee=n(54);function te(){var e=Object(l.a)(["\nwidth: 12%;\nfloat: right;\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\n"]);return te=function(){return e},e}function ne(){var e=Object(l.a)(["\nfont-size: 18px;\ntext-indent: 2em;\n"]);return ne=function(){return e},e}function ae(){var e=Object(l.a)(["\ncolor: #888;\nfont-size: 16px;\nmargin-bottom: 20px;\n::after{\ncontent:':'\n}\n"]);return ae=function(){return e},e}function re(){var e=Object(l.a)(["\nborder: 1px solid #444;\nborder-radius: 5px;\npadding: 10px 20px;\nmargin-top: 20px;\ncolor: #444;\n"]);return re=function(){return e},e}var ie=f.a.div(re()),oe=f.a.div(ae()),ce=f.a.div(ne()),ue=f.a.div(te()),se=n(238),le=n(237),fe=se.a.TextArea,de=function(e){var t=function(e){return function(t){return function(n){function a(){var e;return Object(L.a)(this,a),(e=Object(I.a)(this,Object(T.a)(a).call(this))).state={visible:!1},e.handleOk=e.handleOk.bind(Object(ee.a)(e)),e.handleCancel=e.handleCancel.bind(Object(ee.a)(e)),e.edit=e.edit.bind(Object(ee.a)(e)),e}return Object(C.a)(a,n),Object(S.a)(a,[{key:"render",value:function(){var n=e.id,a=e.name,i=e.content,o=e.index,c=e.delectList;return r.a.createElement(ie,null,r.a.createElement(ue,null,r.a.createElement(_.a,{type:"primary",size:"small",onClick:this.edit},"\u4fee\u6539"),r.a.createElement(_.a,{type:"danger",size:"small",onClick:function(){return c(o)}},"\u5220\u9664")),r.a.createElement(oe,null,n,"-",a),r.a.createElement(ce,null,i),r.a.createElement(t,{visible:this.state.visible,handleOk:this.handleOk,handleCancel:this.handleCancel}))}},{key:"edit",value:function(){this.setState((function(){return{visible:!0}}))}},{key:"handleOk",value:function(t){(0,e.editList)(e.index,t)}},{key:"handleCancel",value:function(){this.setState((function(){return{visible:!1}}))}}]),a}(a.PureComponent)}}(e)((function(e){var t=e.visible,n=e.handleOk,i=e.handleCancel,o=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(I.a)(this,(e=Object(T.a)(a)).call.apply(e,[this].concat(r)))).state={value:""},t.onChange=function(e){var n=e.target.value;t.setState({value:n})},t}return Object(C.a)(a,e),Object(S.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(le.a,{title:"\u4fee\u6539\u7559\u8a00",visible:t,onOk:function(){return n(e.state.value)},onCancel:i},r.a.createElement(fe,{value:this.state.value,onChange:this.onChange,placeholder:"Controlled autosize",autoSize:{minRows:3,maxRows:5}}))}}]),a}(a.PureComponent);return r.a.createElement(o,null)}));return r.a.createElement(t,null)},pe=n(27),ge=function(e,t){(function(e){var t=e.content;return $.post("list",{data:{content:t}})})({content:t}).then((function(t){e({type:pe.a.ADD_LIST,item:t.item})}))},he=function(e,t){(function(e){var t=e.id;return $.delete("list",{data:{id:t}})})({id:t}).then((function(){e({type:pe.a.DELETE_LIST,id:t})}))},ve=function(e,t,n){(function(e){var t=e.id,n=e.content;return $.put("list",{data:{id:t,content:n}})})({id:t,content:n}).then((function(){e({type:pe.a.EDIT_LIST,id:t,content:n})}))},me=function(e){$.get("list").then((function(t){e({type:pe.a.GET_LIST,data:t.list})}))},be=function(e){function t(){return Object(L.a)(this,t),Object(I.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.list,i=t.addList,o=t.delectList,c=t.editList;return r.a.createElement(a.Fragment,null,r.a.createElement(Z,{ref:function(t){e.input=t}}),r.a.createElement(_.a,{type:"primary",block:!0,onClick:function(){return i(e.input.value)}},"\u53d1\u5e03"),n.map((function(e,t){return r.a.createElement(de,{key:t,delectList:o,editList:c,index:t,id:e.get("id"),content:e.get("content"),name:e.get("name")})})))}},{key:"componentDidMount",value:function(){this.props.getList()}}]),t}(a.PureComponent),Oe=Object(s.b)((function(e){return{list:e.getIn(["content","list"])}}),(function(e){return{addList:function(t){ge(e,t)},editList:function(t,n){ve(e,t,n)},delectList:function(t){he(e,t)},getList:function(){me(e)}}}))(be);function ye(){var e=Object(l.a)(["\nmargin: 60px auto 0;\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\nwidth: 40%;\n"]);return ye=function(){return e},e}function Ee(){var e=Object(l.a)(["\nbackground-color: #efefef;\nwidth: 80%;\noutline: none;\nborder-radius: 8px;\npadding: 8px;\nbox-sizing: border-box;\nfont-size: 16px;\nborder: 1px solid #fdd;\n:focus{\n    border: 1px solid #ddf;\n}\n"]);return Ee=function(){return e},e}function ke(){var e=Object(l.a)(["\nfont-size: 18px;\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\nwidth: 80%;\nmargin: 10px auto;\n"]);return ke=function(){return e},e}function je(){var e=Object(l.a)(["\nmargin: 40px auto 0;\npadding: 10px;\n"]);return je=function(){return e},e}var xe=f.a.div(je()),we=f.a.label(ke()),Le=f.a.input(Ee()),Se=f.a.div(ye()),Ie=function(e){function t(){return Object(L.a)(this,t),Object(I.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.login,a=t.register;return r.a.createElement(xe,null,r.a.createElement(we,null,r.a.createElement("span",null,"\u8d26\u6237\uff1a"),r.a.createElement(Le,{ref:function(t){return e.account=t}})),r.a.createElement(we,null,r.a.createElement("span",null,"\u5bc6\u7801\uff1a"),r.a.createElement(Le,{ref:function(t){return e.password=t}})),r.a.createElement(Se,null,r.a.createElement(_.a,{type:"default",onClick:function(){return n({account:e.account.value,password:e.password.value})}},"\u767b\u9646"),r.a.createElement(_.a,{type:"primary",onClick:function(){return a({account:e.account.value,password:e.password.value})}},"\u6ce8\u518c")))}}]),t}(a.PureComponent),Te=Object(s.b)((function(e){return{login:e.getIn(["login","login"])}}),(function(e){return{login:function(t){q(e,t)},register:function(t){H(e,t)}}}))(Ie),Ce=function(){return r.a.createElement(s.a,{store:w},r.a.createElement(p,null,r.a.createElement(v,null)))},_e=(n(235),n(100)),Ne=n.n(_e),Ge=Ne.a.Random,De={code:1,data:{message:"success"}},Je=JSON.parse(JSON.stringify(De)),Re=function(e,t,n){Ne.a.mock(RegExp("".concat(e,".*")),t,n)};Re("list","get",function(){var e=JSON.parse(JSON.stringify(De));e.data.list=[];for(var t=0;t<Ge.integer(5,10);t++)e.data.list.push({id:t+1,name:Ge.cname(2,3),content:Ge.cparagraph(3,10)});return e}()),Re("list","post",function(){var e=JSON.parse(JSON.stringify(De));return e.data.item={id:Ge.integer(0,1e3),name:Ge.ctitle(2,9),content:Ge.cparagraph(7,9)},e}()),Re("list","delete",Je),Re("list","put",Je),Re("login","get",function(){var e=JSON.parse(JSON.stringify(De));return e.data.login=!0,e}()),Re("login","post",Je),Re("logout","post",Je),Re("register","post",Je),o.a.render(r.a.createElement(Ce,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");c?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):u(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):u(t,e)}))}}()},27:function(e,t,n){"use strict";t.a={ADD_LIST:Symbol("add_list"),DELETE_LIST:Symbol("delete_list"),EDIT_LIST:Symbol("edit_list"),GET_LIST:Symbol("get_list")}},28:function(e,t,n){"use strict";t.a={LOGIN:Symbol("login"),LOGOUT:Symbol("logout"),REGISTER:Symbol("register"),GET_LOGIN:Symbol("get_login")}},53:function(e,t,n){"use strict";t.a={OPEN_LOGIN:Symbol("open_login"),CLOSE_LOGIN:Symbol("close_login")}}},[[146,1,2]]]);
//# sourceMappingURL=main.21b05da7.chunk.js.map